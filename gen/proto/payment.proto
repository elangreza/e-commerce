syntax = "proto3";

package gen;

// ignore the error not found in vscode
import "empty.proto";
import "money.proto";

option go_package = "github.com/elangreza/e-commerce/proto/gen";

message ProcessPaymentRequest {
  string order_id = 1;
  Money total_amount = 2;
}

message ProcessPaymentResponse {
  string transaction_id = 1;
}

message RollbackPaymentRequest {
  string transaction_id = 1;
  string reason = 2;
}

message UpdatePaymentRequest {
  string transaction_id = 1;
  Money total_amount = 2;
}

message UpdatePaymentResponse {
  string status = 1;
}

message GetPaymentRequest {
  string transaction_id = 1;
}

message GetPaymentResponse {
  string transaction_id = 1;
  string status = 2;
  Money total_amount = 3;
  string created_at = 4;
  string expired_at = 5;
}

service PaymentService {
    rpc ProcessPayment(ProcessPaymentRequest) returns (ProcessPaymentResponse) {}
    rpc RollbackPayment(RollbackPaymentRequest) returns (Empty) {}
    rpc UpdatePayment(UpdatePaymentRequest) returns (UpdatePaymentResponse) {}
    rpc GetPayment(GetPaymentRequest) returns (GetPaymentResponse) {}
}